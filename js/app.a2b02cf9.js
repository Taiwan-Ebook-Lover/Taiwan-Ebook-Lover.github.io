(function(t){function e(e){for(var o,n,i=e[0],l=e[1],c=e[2],p=0,d=[];p<i.length;p++)n=i[p],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},r=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01c7":function(t,e,a){t.exports=a.p+"img/ebook-logo-bg.6e557c1b.svg"},"0f13":function(t,e,a){},"1b2c":function(t,e,a){},"2c79":function(t,e,a){"use strict";a("1b2c")},"40ca":function(t,e,a){t.exports=a.p+"img/play-store-badge.7733e12d.svg"},"452c":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=a("f309");o["a"].use(s["a"]);var r=new s["a"]({icons:{iconfont:"md"}}),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-toolbar",{staticClass:"elevation-0",attrs:{short:"",color:t.toolBarColor}},[o("v-toolbar-title",{class:t.toolBarTitleClass},[o("v-avatar",{staticClass:"ma-2",attrs:{tile:"",size:"40"}},[o("img",{attrs:{src:a("9c6c"),alt:"ebook-logo"}})]),o("span",{staticClass:"hidden-xs-only"},[t._v("台灣電子書搜尋")])],1),o("v-spacer"),o("v-toolbar-items",{staticClass:"hidden-sm-and-down mr-2"},[o("a",{staticClass:"img-flex",attrs:{href:"https://denkeni.medium.com/farewell-ebooktw-ios-dea6fd5e542b"}},[o("img",{attrs:{src:a("ddae"),alt:"app-store"}})])]),o("v-toolbar-items",{staticClass:"hidden-sm-and-down mr-2"},[o("a",{staticClass:"img-flex",attrs:{href:"https://play.google.com/store/apps/details?id=liou.rayyuan.ebooksearchtaiwan"}},[o("img",{attrs:{src:a("40ca"),alt:"play-store"}})])]),o("v-toolbar-items",{staticClass:"hidden-md-and-up mr-2"},[o("v-btn",{class:t.fontColor,attrs:{flat:""},on:{click:function(e){t.isDialogShow=!0}}},[t._v("Get App")])],1)],1),o("router-view",{class:t.routeViewBackgoundColor}),o("v-dialog",{attrs:{"max-width":"350"},model:{value:t.isDialogShow,callback:function(e){t.isDialogShow=e},expression:"isDialogShow"}},[o("v-card",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{"mx-4":"","my-4":"",xs12:""}},[o("a",{attrs:{href:"https://denkeni.medium.com/farewell-ebooktw-ios-dea6fd5e542b"}},[o("v-img",{attrs:{src:a("ddae"),alt:"app-store"}})],1)]),o("v-flex",{attrs:{"mx-4":"","mb-4":"",xs12:""}},[o("a",{attrs:{href:"https://play.google.com/store/apps/details?id=liou.rayyuan.ebooksearchtaiwan"}},[o("v-img",{attrs:{src:a("40ca"),alt:"play-store"}})],1)])],1)],1)],1)],1)},i=[],l={name:"ebook-search",computed:{toolBarColor:function(){return"/"===this.$route.path?"#f5f5f5":"#0eb29a"},fontColor:function(){return"/"===this.$route.path?"grey--text text--darken-1":"white--text"},routeViewBackgoundColor:function(){return"/"===this.$route.path?"bg-grey height-100":"height-100"},toolBarTitleClass:function(){return"/"===this.$route.path?"disable-all":"white--text"}},data:function(){return{isDialogShow:!1}}},c=l,u=(a("928f"),a("b0a0"),a("2877")),p=a("6544"),d=a.n(p),m=a("7496"),f=a("8212"),h=a("8336"),b=a("b0af"),v=a("169a"),g=a("0e8f"),y=a("adda"),k=a("a722"),x=a("2fa4"),w=a("71d9"),C=a("2a7f"),_=Object(u["a"])(c,n,i,!1,null,"0cf23072",null),S=_.exports;d()(_,{VApp:m["a"],VAvatar:f["a"],VBtn:h["a"],VCard:b["a"],VDialog:v["a"],VFlex:g["a"],VImg:y["a"],VLayout:k["a"],VSpacer:x["a"],VToolbar:w["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var V=a("8c4f"),O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{"text-md-center":"","text-sm-center":"","text-xs-center":"",fluid:""}},[o("v-layout",{attrs:{row:"",wrap:"","mt-5":""}},[o("v-flex",{attrs:{lg2:"","offset-lg5":"",sm4:"","offset-sm4":"",xs6:"","offset-xs3":""}},[o("v-img",{attrs:{src:a("01c7"),alt:"ebook-logo","aspect-ratio":"1"}})],1),o("v-flex",{attrs:{"my-2":"",xs12:""}},[o("div",{staticClass:"display-2 grey--text text--darken-3"},[t._v("台灣電子書搜尋")])]),o("v-flex",{attrs:{"my-3":"",lg6:"","offset-lg3":"",sm8:"","offset-sm2":""}},[o("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.redirectToSearch(e)}}},[o("v-text-field",{attrs:{label:"Solo",placeholder:"搜尋您想比價的電子書名關鍵字或 ISBN","append-icon":"search",solo:"",clearable:""},on:{"click:append":t.redirectToSearch},model:{value:t.searchword,callback:function(e){t.searchword=e},expression:"searchword"}})],1)],1),o("v-flex",{attrs:{xs12:""}},[o("div",{staticClass:"headline grey--text"},[o("span",{staticClass:"hidden-xs-only"},[o("i",{staticClass:"fab fa-twitter"}),t._v(" 在"),o("a",{staticClass:"theme-color",attrs:{href:"https://twitter.com/TaiwanEBook"}},[t._v("推特")]),t._v("上追蹤我們 ")]),o("span",{staticClass:"hidden-xs-only mx-4 vertical-divider"}),o("span",[t._v(" 看看支援哪 "),o("v-tooltip",{attrs:{bottom:"",color:"white","max-width":"320"},model:{value:t.isTooltipShow,callback:function(e){t.isTooltipShow=e},expression:"isTooltipShow"}},[o("span",{staticClass:"theme-color",attrs:{slot:"activator"},on:{click:function(e){t.isTooltipShow=!t.isTooltipShow}},slot:"activator"},[t._v(" 8 間台灣線上電子書店 ")]),o("v-layout",{attrs:{row:"",wrap:""}},t._l(t.companies,(function(e,a){return o("v-flex",{key:a,attrs:{xs6:"","my-2":""}},[o("v-avatar",{attrs:{size:"32"}},[o("img",{attrs:{src:"img/"+e.value+".png",alt:e.name}})]),o("span",{staticClass:"ma-2 grey--text text--darken-1"},[t._v(t._s(e.name))])],1)})),1)],1)],1)])])],1)],1)},T=[],j={name:"home",data:function(){return{searchword:"",isTooltipShow:!1,companies:[{name:"Readmoo 讀墨",value:"readmoo"},{name:"博客來",value:"booksCompany"},{name:"樂天 kobo",value:"kobo"},{name:"Google Play 圖書",value:"playStore"},{name:"Pubu 電子書城",value:"pubu"},{name:"BOOKWALKER",value:"bookWalker"},{name:"Taaze 讀冊生活",value:"taaze"},{name:"HyRead 電子書",value:"hyread"}]}},methods:{redirectToSearch:function(){""!==this.searchword&&this.$router.push({path:"search",query:{q:this.searchword}})}}},R=j,P=(a("7f6c"),a("a523")),$=a("4bd4"),B=a("8654"),L=a("3a2f"),E=Object(u["a"])(R,O,T,!1,null,"36482848",null),A=E.exports;d()(E,{VAvatar:f["a"],VContainer:P["a"],VFlex:g["a"],VForm:$["a"],VImg:y["a"],VLayout:k["a"],VTextField:B["a"],VTooltip:L["a"]});var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg-grey"},[a("v-container",{attrs:{"pb-0":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:"",sm6:"",md6:"",lg6:"","mr-2":""}},[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submitSearch(e)}}},[a("v-text-field",{attrs:{label:"Solo",placeholder:"搜尋您想比價的電子書名關鍵字或 ISBN","append-icon":"search",solo:"",clearable:""},on:{"click:append":t.submitSearch},model:{value:t.searchword,callback:function(e){t.searchword=e},expression:"searchword"}})],1)],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:"",lg4:""}},[a("v-select",{attrs:{items:t.sorts,label:"選擇排序",solo:"",clearable:""},on:{change:t.sortOnChange},model:{value:t.selectedSort,callback:function(e){t.selectedSort=e},expression:"selectedSort"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:""}},[a("v-select",{attrs:{items:t.companies,"item-text":"name","item-value":"value",chips:"",label:"過濾書店","prepend-icon":"filter_list",multiple:"",clearable:""},on:{change:t.filterCompanies},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.item,s=e.index;return[0===s?a("v-chip",[a("span",[t._v(t._s(o.name))])]):t._e(),1===s?a("span",{staticClass:"grey--text caption"},[t._v("(+"+t._s(t.selectedCompanies.length-1)+" others)")]):t._e()]}}]),model:{value:t.selectedCompanies,callback:function(e){t.selectedCompanies=e},expression:"selectedCompanies"}})],1)],1)],1)],1),a("v-container",{attrs:{"pb-0":""}},[a("span",{staticClass:"result-count"},[t._v(t._s(0===t.books.length?"":"共有 "+t.books.length+" 筆結果"))])]),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:""}},[t.isLoading?a("v-container",{attrs:{"grid-list-md":"","my-10":""}},[a("book-loading",{staticClass:"my-10"})],1):t._e(),t._l(t.books,(function(e,o){return a("v-flex",{key:o,attrs:{xs12:"","pa-2":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs5:"",sm3:"",md2:"",lg2:""}},[a("v-chip",{staticClass:"mouse-pointer mb-2",attrs:{small:""},on:{click:function(a){return t.toggleCompany(e.company)}}},[a("v-avatar",[a("img",{attrs:{src:"img/"+e.company+".png",alt:e.title}})]),t._v(" "+t._s(t.booksCompanyTable[e.company])+" ")],1),a("a",{attrs:{href:e.link}},[a("v-img",{attrs:{src:e.thumbnail,alt:e.title}})],1)],1),a("v-flex",{attrs:{xs7:"",sm9:"",md10:"",lg10:""}},[a("v-card-title",{staticClass:"pa-2"},[a("h2",{staticClass:"title"},[a("a",{attrs:{href:e.link}},[t._v(t._s(e.title))])])]),a("v-card-text",{staticClass:"subheading pa-2"},[t._v(" "+t._s(e.about?e.about.substr(0,150)+"...":"")+" ")]),a("span",{staticClass:"subheading price px-2"},[t._v(t._s(e.price)+" "+t._s(e.priceCurrency))])],1)],1)],1)}))],2)],1)],1)},D=[],z=a("2909"),F=a("5530"),I=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ac1f"),a("841c"),a("a434"),a("159b"),a("4de4"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookshelf-wrapper"},[a("ul",{staticClass:"books-list"},[a("li",{staticClass:"book-item first"}),a("li",{staticClass:"book-item second"}),a("li",{staticClass:"book-item third"}),a("li",{staticClass:"book-item fourth"}),a("li",{staticClass:"book-item fifth"}),a("li",{staticClass:"book-item sixth"})]),a("div",{staticClass:"shelf"})])}],W=(a("9d52"),{}),G=Object(u["a"])(W,I,K,!1,null,"1cea359c",null),M=G.exports,H={name:"search",components:{"book-loading":M},data:function(){return{sorts:["綜合排名","價格低至高","價格高至低"],companies:[{name:"Readmoo 讀墨",value:"readmoo"},{name:"博客來",value:"booksCompany"},{name:"樂天 kobo",value:"kobo"},{name:"Google Play 圖書",value:"playStore"},{name:"Pubu 電子書城",value:"pubu"},{name:"BOOKWALKER",value:"bookWalker"},{name:"Taaze 讀冊生活",value:"taaze"},{name:"HyRead 電子書",value:"hyread"}],booksCompanyTable:{booksCompany:"博客來",readmoo:"Readmoo 讀墨",kobo:"樂天 kobo",taaze:"TAAZE 讀冊生活",bookWalker:"BOOKWALKER",playStore:"Google Play 圖書",pubu:"Pubu 電子書城",hyread:"HyRead 電子書"},searchword:"",selectedSort:"",selectedCompanies:[],searchResult:{},booksResult:[],books:[],isLoading:!1}},mounted:function(){this.$route.query.q&&(this.searchword=this.$route.query.q,this.submitSearch())},methods:{submitSearch:function(){var t=this;if(""!==this.searchword){this.searchResult={},this.booksResult=[],this.books=[],this.isLoading=!0,this.$router.push({path:"search",query:{q:this.searchword}});var e=new URL("https://ebook.yuer.tw/search"),a={q:this.searchword};e.search=new URLSearchParams(a),fetch(e).then((function(t){return t.json()})).then((function(e){for(var a in t.searchResult=e,e)if(0!==e[a].length){var o=e[a][0];e[a].splice(0,1);var s=Object(F["a"])(Object(F["a"])({},o),{},{company:a});t.books.push(s)}var r=function(a){e[a].forEach((function(e){var o=Object(F["a"])(Object(F["a"])({},e),{},{company:a});t.books.push(o)}))};for(var n in e)r(n);t.booksResult=Object(z["a"])(t.books),t.isLoading=!1})).catch((function(e){console.error(e),t.isLoading=!1}))}},filterCompanies:function(){var t=this;0!==this.selectedCompanies.length?(this.books=[],this.selectedCompanies.forEach((function(e){var a,o=t.booksResult.filter((function(t){return t.company===e}));(a=t.books).push.apply(a,Object(z["a"])(o))}))):this.books=Object(z["a"])(this.booksResult)},sortOnChange:function(){"價格低至高"===this.selectedSort?this.books=this.books.sort((function(t,e){return t.price-e.price})):"價格高至低"===this.selectedSort?this.books=this.books.sort((function(t,e){return e.price-t.price})):this.books=Object(z["a"])(this.booksResult)},toggleCompany:function(t){var e=this.selectedCompanies.indexOf(t);-1===e?this.selectedCompanies.push(t):this.selectedCompanies.splice(e,1)}}},J=H,N=(a("2c79"),a("99d9")),U=a("cc20"),Z=a("b974"),Q=Object(u["a"])(J,q,D,!1,null,"213d4bd5",null),X=Q.exports;d()(Q,{VAvatar:f["a"],VCardText:N["a"],VCardTitle:N["b"],VChip:U["a"],VContainer:P["a"],VFlex:g["a"],VForm:$["a"],VImg:y["a"],VLayout:k["a"],VSelect:Z["a"],VTextField:B["a"]}),o["a"].use(V["a"]);var Y=new V["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:A},{path:"/search",name:"search",component:X}]});o["a"].config.productionTip=!1,new o["a"]({router:Y,vuetify:r,render:function(t){return t(S)}}).$mount("#app")},"66ff":function(t,e,a){},7289:function(t,e,a){},"7f6c":function(t,e,a){"use strict";a("66ff")},"928f":function(t,e,a){"use strict";a("0f13")},"9c6c":function(t,e,a){t.exports=a.p+"img/ebook-logo.3464842a.svg"},"9d52":function(t,e,a){"use strict";a("7289")},b0a0:function(t,e,a){"use strict";a("452c")},ddae:function(t,e,a){t.exports=a.p+"img/app-store-badge.ccaef5b1.svg"}});
//# sourceMappingURL=app.a2b02cf9.js.map